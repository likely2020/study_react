<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="app">
    <script src="../js/react.min.js" ></script>
    <script src="../js/JSXTransformer.js" ></script> <!--此处不能使用自闭合-->
    <script type="text/jsx">
        var MessageBox = React.createClass({
            getInitialState:function(){
                return {
                    isVisible: true,
                    titleMessage: 'hello World!',
                    subMessages:[
                            'one',
                            'two',
                            'three'
                    ]
                }
            },
            render:function(){
                return (
                        <div>
                            <h1>{this.props.title}</h1>
                            <SubMessage messages={this.state.subMessages} />
                        </div>
                )
            }
        });
        var SubMessage = React.createClass({
            //默认的props，如果父组件未传messages调用
            getDefaultProps:function(){
                return {
                    message: ['normal']
                }
            },
            render:function(){
                var msgs = [];
                this.props.messages.forEach(function(msg,index){
                    msgs.push(
                        <p>she say: {msg}</p>
                    )
                });
                return (
                        <div>{msgs}</div>
                )
            }
        });
        var Footer = React.createClass({
            render:function(){
                return (
                        <small>small</small>
                )
            }
        });
        var title = 'title';
        var messageBox = React.render( <MessageBox title={title}/>,
            document.getElementById('app'),
            function(){
                console.log('done');
            }
        )
    </script>
</div>
</body>
</html>